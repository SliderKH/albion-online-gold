---
title: "R Notebook"
output: html_notebook
---
```{r include=FALSE}
library(lubridate)
library(dplyr)
library(ggplot2)
library(tidyverse)
```

In Albion Online, the gold market is player-driven, meaning that item prices are determined by supply and demand. As a result, the price of items can fluctuate depending on the number of players selling and buying them. In addition, players can participate in trade and invest in the game's economy, such as buying and selling land, buildings, or even entire cities.

I decided to investigate the changing price of gold in this game, gold enters the game when players buy it with real currency, later it is sold to players for in-game currency - silver, to buy various in-game privileges 


```{r}
df <- read.csv('data/gold_data.csv')
df$date <- as.POSIXct(df$date, format="%Y-%m-%d")
head(df)
```

```{r}
df %>%
  group_by(year=floor_date(date, "year")) %>%
  summarize(average_price=mean(price)) %>% 
  mutate(annual_growth_rate=(average_price/lag(average_price) - 1) * 100)

```
The price spike occurred in 2018-2019
Consider the average price for the month:
```{r}
df %>%
  group_by(month=floor_date(date, "month")) %>%
  summarize(average_price=mean(price)) %>% 
  mutate(month_growth_rate=(average_price/lag(average_price) - 1) * 100)

```
We may notice that there is no data for the last 5 months in 2018

After searching for information on the official Albion Online game website, we learned that On May 16, 2018, Albion Online launched on Steam, bringing thousands of new players into the greater Albion community. The influx of new players brought new dimensions to the Albion ecosystem, providing new economic opportunities for seasoned players. 
But what happened in April 2019?
Albion Online's business model has always been based on two pillars: Premium status, which can be bought with real money or in-game currency, and the in-game store, which only offers clothing items.
On April 10, 2019, the game became free-to-play, thereby creating a large flow of new players and increasing the demand for gold

```{r}
ggplot(data=df)+
  geom_smooth(mapping=aes(x=date,y=price))+
  xlab("Year") + ylab('Price per gold in silver')
 
```

```{r}
df_bar <- df %>%
  group_by(year=floor_date(date, "year")) %>%
  summarize(average_price=mean(price)) %>% 
  mutate(annual_growth_rate=(average_price/lag(average_price) - 1) * 100)
  ggplot(data=df_bar)+
    geom_col(mapping=aes(x=year,y=average_price,fill=average_price))+
    xlab("Year") + ylab('Price per gold in silver')+
    guides(fill=guide_legend(title="Average Price"))+
    labs(title="Price per gold in silver vs. Year", subtitle='Albion Online',
       caption="Data collected by albion-online-data")
```
As we can see from the visualization, the trend for gold demand continues
Data Source: Albion Online Data


